<h1 id="twitter-autobase-bot">Twitter Autobase Bot</h1>

<p>Source code can be found on <a href="https://github.com/azukacchi/twitter_autobase">my github</a></p>

<h2 id="description">Description</h2>
<p>(Very) simple twitter autobase bot that posts incoming DM</p>

<h2 id="features">Features</h2>
<ol>
  <li>
    <p>Posts incoming DM that contains the trigger word.</p>
  </li>
  <li>Posts incoming DM with media. Three ways of sending a post containing media through DM:
    <ul>
      <li>
        <p>Upload your own image with the text you want to add. However, DM will not be sent if it contains uploaded attachment other than photos (example: GIF/video). The result is something like this.
<img src="https://dev-to-uploads.s3.amazonaws.com/i/ir46br3cx7k86hvtuu3q.jpg" alt="upload image" /></p>
      </li>
      <li>
        <p>Embed images/gif/video from an existing tweet by copy-pasting the link contained in a tweet with images/gif/video. Example: to embed the image from this <a href="https://twitter.com/timeto_haechan/status/1300093500810170370">tweet</a>, copy the text and take only the link.</p>

        <p>The text would be something like this:</p>
        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> 190831 인천 스카이 페스티벌 #NCTDREAM #NCT #해찬 #HAECHAN https://pic.twitter.com/r97xH3s15X
</code></pre></div>        </div>

        <p>Take only the link and paste it into the DM along with the text you want to add and the trigger word like below.</p>
        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> your text hereeeeee lorem ipsum triggerword
 https://pic.twitter.com/r97xH3s15
</code></pre></div>        </div>

        <p>The result is something like this.
 <img src="https://dev-to-uploads.s3.amazonaws.com/i/34zymz28b8uey2mpehl7.jpg" alt="embed image" /></p>
      </li>
      <li>
        <p>To submit a quote-RT of a tweet, simply insert the link of the tweet like below.</p>
        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  this is going to be sent as a quote-RT your text hereeeee triggerword https://twitter.com/timeto_haechan/status/1300093500810170370
</code></pre></div>        </div>
        <p>The result is something like this. 
  <img src="https://dev-to-uploads.s3.amazonaws.com/i/1nkyckowe9t1ysyhy5ho.jpg" alt="quote rt" /></p>
      </li>
    </ul>
  </li>
  <li>
    <p>Cuts post longer than 280 characters and posts them as a thread. The result is something like <a href="https://drive.google.com/file/d/1tNN0bW0QglARMCdUH1TAskUTtAztZjZ1/view?usp=sharing">this</a>.</p>
  </li>
  <li>
    <p>Sends a DM back for each incoming DM.</p>

    <ul>
      <li>status <code class="language-plaintext highlighter-rouge">sent</code>: DM was successfully posted, the link to the posted tweet will be attached.</li>
      <li>status <code class="language-plaintext highlighter-rouge">notsent</code>: DM was not posted because it does not contain the trigger word.</li>
      <li>status <code class="language-plaintext highlighter-rouge">wrong attachment</code>: DM was not posted because it contains uploaded attachment other than photo.</li>
    </ul>
  </li>
  <li>
    <p>Deletes the incoming DMs once they are posted.</p>

    <p>You can still see the content of the original DM from the link in the notification message you send back to the sender. Optional: you can also delete the notification DM you’ve just sent by uncommenting this line in <code class="language-plaintext highlighter-rouge">senddm</code> method.</p>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> #api.destroy_direct_message(int(notifdm.id))
</code></pre></div>    </div>
  </li>
  <li>Makes a log for each run into <code class="language-plaintext highlighter-rouge">test.log</code> file.</li>
</ol>

<h2 id="what-do-you-need">What do you need</h2>
<ol>
  <li>Make sure you have already installed Python.</li>
  <li>A Twitter developer account; sign in to your Twitter account then apply for a developer account <a href="https://developer.twitter.com/en/apply-for-access">here</a>. The time required until your application is approved might varies (mine was 10-14 days :grimacing:). After your application is approved, make sure to change the permission to the “Read, Write, and Direct Messages”. Generate the keys and tokens after you change the permission setting.</li>
</ol>

<h2 id="how-to-run-this">How to run this</h2>
<ol>
  <li>If you have git installed, clone this in your directory. If not, just download the ZIP file.
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  git clone https://github.com/azukacchi/twitter_autobase.git
</code></pre></div>    </div>
  </li>
  <li>Install the required packages (or check <code class="language-plaintext highlighter-rouge">requirements.txt</code> to install each package separately).
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  pip install -r requirements.txt
</code></pre></div>    </div>
  </li>
  <li>Set the required fields in <code class="language-plaintext highlighter-rouge">config.py</code>:
    <ul>
      <li>Put the keys and tokens you get from your Twitter developer account.</li>
      <li>Set your timezone and the trigger word you want to use.</li>
    </ul>
  </li>
  <li>Modify the notification message as you wish in the <code class="language-plaintext highlighter-rouge">senddm()</code> method.</li>
</ol>

<h2 id="how-do-i-automate-the-script">How do I automate the script</h2>
<p>You can use Task Scheduler on Windows (open Start then search Task Scheduler) to run the <code class="language-plaintext highlighter-rouge">app.py</code>. This app is quite simple to use, the only downturn is it only runs when your computer is either turned on or sleep but not shutdown (obviously). Some helpful tutorials can be found <a href="https://www.jcchouinard.com/python-automation-using-task-scheduler/">here</a> and <a href="https://dev.to/abautista/automate-a-python-script-with-task-scheduler-3fb6">here</a>.</p>

<h2 id="notes">Notes</h2>
<p>This bot is not suitable for a big autobase account. The <code class="language-plaintext highlighter-rouge">checkdm()</code> method only checks the DM to your bot account, without saving the tweets to a dabatase. Then this bot will post the incoming DM as soon as it runs the <code class="language-plaintext highlighter-rouge">post_all()</code> method, with a certain time span between the tweets to avoid Twitter API rate limits. To run a big autobase account with higher posts rate, coming from higher followers counts, such as <a href="https://twitter.com/collegemenfess">@collegemenfess</a> with 500K+ followers, you’ll need to check the dm more often and you’ll need a database that enables you to store the incoming DM and post them later.</p>

